{"ast":null,"code":"export const FITCH_CITY = \"FITCH_CITY\"; // I cleaned a bit your action, It was almost good, just a few probem with the .json() convertion and handeling the payload\n//it shuld work now ;)\n\nexport const fetchCitiesAction = () => {\n  return dispatch => {\n    //add the full url of your back end\n    fetch(\"http://localhost:5000/api/cities/all\").then(resp => {\n      return resp.json();\n    }).then(json => {\n      dispatch({\n        type: \"FETCH_CITIES_SUCCESS\",\n        payload: json\n      });\n    }).catch(err => {\n      dispatch({\n        type: \"FETCH_CITIES_ERROR\",\n        payload: err\n      });\n    }); //       .then(handleErrors)\n    //       .then(res => res.json())\n    //       .then(json => {\n    //         dispatch(fetchCitiesSuccess(json.cities));\n    //         return json.cities;\n    //       })\n    //       .catch(error => dispatch(fetchCitiesFailure(error)));\n  }; //   fetch(\"http://localhost:5000/api/cities/all\")\n  //     .then(res => {\n  //       return res.json();\n  //     })\n  //     .then(result => {\n  //       console.log(\"result :\", result);\n  //       this.setState({ cities: result });\n  //       console.log(this.state.cities);\n  //     });\n};","map":{"version":3,"sources":["D:/mernProject2/myTinerary/client/src/store/actions/cityActions.js"],"names":["FITCH_CITY","fetchCitiesAction","dispatch","fetch","then","resp","json","type","payload","catch","err"],"mappings":"AAAA,OAAO,MAAMA,UAAU,GAAG,YAAnB,C,CAEP;AACA;;AACA,OAAO,MAAMC,iBAAiB,GAAG,MAAM;AACrC,SAAOC,QAAQ,IAAI;AACjB;AACAC,IAAAA,KAAK,CAAC,sCAAD,CAAL,CACGC,IADH,CACQC,IAAI,IAAI;AACZ,aAAOA,IAAI,CAACC,IAAL,EAAP;AACD,KAHH,EAIGF,IAJH,CAIQE,IAAI,IAAI;AACZJ,MAAAA,QAAQ,CAAC;AAAEK,QAAAA,IAAI,EAAE,sBAAR;AAAgCC,QAAAA,OAAO,EAAEF;AAAzC,OAAD,CAAR;AACD,KANH,EAOGG,KAPH,CAOSC,GAAG,IAAI;AACZR,MAAAA,QAAQ,CAAC;AAAEK,QAAAA,IAAI,EAAE,oBAAR;AAA8BC,QAAAA,OAAO,EAAEE;AAAvC,OAAD,CAAR;AACD,KATH,EAFiB,CAYjB;AAEA;AACA;AACA;AACA;AACA;AAEA;AACD,GArBD,CADqC,CAuBrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,CAhCM","sourcesContent":["export const FITCH_CITY = \"FITCH_CITY\";\n\n// I cleaned a bit your action, It was almost good, just a few probem with the .json() convertion and handeling the payload\n//it shuld work now ;)\nexport const fetchCitiesAction = () => {\n  return dispatch => {\n    //add the full url of your back end\n    fetch(\"http://localhost:5000/api/cities/all\")\n      .then(resp => {\n        return resp.json();\n      })\n      .then(json => {\n        dispatch({ type: \"FETCH_CITIES_SUCCESS\", payload: json });\n      })\n      .catch(err => {\n        dispatch({ type: \"FETCH_CITIES_ERROR\", payload: err });\n      });\n    //       .then(handleErrors)\n\n    //       .then(res => res.json())\n    //       .then(json => {\n    //         dispatch(fetchCitiesSuccess(json.cities));\n    //         return json.cities;\n    //       })\n\n    //       .catch(error => dispatch(fetchCitiesFailure(error)));\n  };\n  //   fetch(\"http://localhost:5000/api/cities/all\")\n  //     .then(res => {\n  //       return res.json();\n  //     })\n  //     .then(result => {\n  //       console.log(\"result :\", result);\n  //       this.setState({ cities: result });\n  //       console.log(this.state.cities);\n  //     });\n};\n"]},"metadata":{},"sourceType":"module"}