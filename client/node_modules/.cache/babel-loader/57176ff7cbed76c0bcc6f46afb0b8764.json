{"ast":null,"code":"var _jsxFileName = \"D:\\\\mernProject2\\\\myTinerary\\\\client\\\\src\\\\Component\\\\UserAccount.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchProfileFavorites } from \"../store/actions/itineraryActions\";\nimport { login } from \"../store/actions/usersAction\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHeart } from \"@fortawesome/free-regular-svg-icons\";\nimport { fetchItinerariesFavorite, fetchItinerariesDeleteFavorite, fetchDeleteComment } from \"../store/actions/itineraryActions\";\n\nclass UserAccount extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handelFavorite = (id, name) => {\n      if (this.props.users.email == null) {\n        alert(\"you need to log in\");\n      } else {\n        const emailAdded = this.props.user.email;\n        this.props.fetchItinerariesFavorite(emailAdded, id, name);\n      }\n    };\n\n    this.handelDeleteFavorite = (id, name) => {\n      const emailAdded = this.props.user.email;\n      console.log(\"emailAdded\", emailAdded);\n      this.props.fetchItinerariesDeleteFavorite(emailAdded, id, name);\n    };\n  }\n\n  componentDidMount() {\n    const ids = this.props.users.favorites;\n    console.log(\"ids\", ids); // const ids =this.props.itineraries.favorites.includes(this.props.users.email)\n\n    this.props.fetchProfileFavorites(ids);\n  }\n\n  render() {\n    const itineraries = this.props.itineraries.favoriteitineraries;\n    console.log(\"itineraries\", itineraries);\n    const email = this.props.users.email;\n    console.log(\"from userAccount\", this.props.users);\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, itineraries && itineraries.map((itinerary, index) => React.createElement(\"div\", {\n      key: index,\n      itinerary: itinerary,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container m-2 itinerary rounded\",\n      key: index,\n      itinerary: itinerary,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row justify-content-between\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"card-title pt-3 text-light col-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Activities in \", itinerary.name, \" : \", itinerary.activities), React.createElement(FontAwesomeIcon, {\n      className: \"pt-3\",\n      icon: faHeart,\n      size: \"3x\",\n      style: itinerary.favorites.includes(email) ? {\n        color: \"red\"\n      } : {\n        color: \"#3986c3\"\n      } // onClick={() => this.handelFavorite(itinerary.name)}\n      ,\n      onClick: () => itinerary.favorites.includes(email) ? this.handelDeleteFavorite(itinerary._id, itinerary.name) : this.handelFavorite(itinerary._id, itinerary.name) // onClick={() =>\n      //   itinerary.favorites.includes(email) &&\n      //     this.props.user.favorites.includes(itinerary._id)\n      //     ? this.handelDeleteFavorite(itinerary._id, itinerary.name)\n      //     : this.handelFavorite(itinerary._id, itinerary.name)\n      // }\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    })), React.createElement(\"img\", {\n      className: \"card-body\",\n      src: itinerary.profile,\n      alt: itinerary.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"text-light pb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"The Price for \", itinerary.duration, \" With Hotels\", \" \", itinerary.price))))));\n  }\n\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  console.log(\"state\", state);\n  return {\n    users: state.users,\n    itineraries: state.itineraries\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  login: userData => dispatch(login(userData)),\n  fetchProfileFavorites: ids => dispatch(fetchProfileFavorites(ids)),\n  fetchItinerariesFavorite: (emailAdded, id, name) => dispatch(fetchItinerariesFavorite(emailAdded, id, name)),\n  fetchItinerariesDeleteFavorite: (emailAdded, id, name) => dispatch(fetchItinerariesDeleteFavorite(emailAdded, id, name))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserAccount);","map":{"version":3,"sources":["D:/mernProject2/myTinerary/client/src/Component/UserAccount.js"],"names":["React","Component","connect","fetchProfileFavorites","login","FontAwesomeIcon","faHeart","fetchItinerariesFavorite","fetchItinerariesDeleteFavorite","fetchDeleteComment","UserAccount","handelFavorite","id","name","props","users","email","alert","emailAdded","user","handelDeleteFavorite","console","log","componentDidMount","ids","favorites","render","itineraries","favoriteitineraries","map","itinerary","index","activities","includes","color","_id","profile","duration","price","mapStateToProps","state","ownProps","mapDispatchToProps","dispatch","userData"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchProfileFavorites } from \"../store/actions/itineraryActions\";\nimport { login } from \"../store/actions/usersAction\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHeart } from \"@fortawesome/free-regular-svg-icons\";\nimport {\n  fetchItinerariesFavorite,\n  fetchItinerariesDeleteFavorite,\n  fetchDeleteComment,\n} from \"../store/actions/itineraryActions\";\nclass UserAccount extends Component {\n  componentDidMount() {\n    const ids = this.props.users.favorites;\n    console.log(\"ids\", ids);\n    // const ids =this.props.itineraries.favorites.includes(this.props.users.email)\n    this.props.fetchProfileFavorites(ids);\n  }\n  handelFavorite = (id, name) => {\n    if (this.props.users.email == null) {\n      alert(\"you need to log in\");\n    } else {\n      const emailAdded = this.props.user.email;\n\n      this.props.fetchItinerariesFavorite(emailAdded, id, name);\n    }\n  };\n  handelDeleteFavorite = (id, name) => {\n    const emailAdded = this.props.user.email;\n    console.log(\"emailAdded\", emailAdded);\n    this.props.fetchItinerariesDeleteFavorite(emailAdded, id, name);\n  };\n\n  render() {\n    const itineraries = this.props.itineraries.favoriteitineraries;\n    console.log(\"itineraries\", itineraries);\n    const email = this.props.users.email;\n    console.log(\"from userAccount\", this.props.users);\n    return (\n      <div className=\"container\">\n        {/* {users.isLoggedin && itineraries.includes(users.favorites) ? (\n          <img src={itineraries.profile} />\n        ) : (\n          <h4>You Have No Liked Itinerary</h4>\n        )} */}\n        {/* {this.props.itineraries.includes(users.email) ? (\n          <img src={itineraries.profile} />\n        ) : (\n          <h4>you have no favorite itinerary</h4>\n        )} */}\n        {itineraries &&\n          itineraries.map((itinerary, index) => (\n            <div key={index} itinerary={itinerary}>\n              {/* <div>\n                <img src={itinerary.profile} alt=\"\" />\n              </div>{\" \"} */}\n              <div\n                className=\"container m-2 itinerary rounded\"\n                key={index}\n                itinerary={itinerary}\n              >\n                <div className=\"row justify-content-between\">\n                  <h4 className=\"card-title pt-3 text-light col-6\">\n                    Activities in {itinerary.name} : {itinerary.activities}\n                  </h4>\n\n                  <FontAwesomeIcon\n                    className=\"pt-3\"\n                    icon={faHeart}\n                    size=\"3x\"\n                    style={\n                      itinerary.favorites.includes(email)\n                        ? { color: \"red\" }\n                        : { color: \"#3986c3\" }\n                    }\n                    // onClick={() => this.handelFavorite(itinerary.name)}\n                    onClick={() =>\n                      itinerary.favorites.includes(email)\n                        ? this.handelDeleteFavorite(\n                            itinerary._id,\n                            itinerary.name\n                          )\n                        : this.handelFavorite(itinerary._id, itinerary.name)\n                    }\n                    // onClick={() =>\n                    //   itinerary.favorites.includes(email) &&\n                    //     this.props.user.favorites.includes(itinerary._id)\n                    //     ? this.handelDeleteFavorite(itinerary._id, itinerary.name)\n                    //     : this.handelFavorite(itinerary._id, itinerary.name)\n                    // }\n                  />\n                </div>\n                <img\n                  className=\"card-body\"\n                  src={itinerary.profile}\n                  alt={itinerary.name}\n                />\n                <div className=\"text-light pb-3\">\n                  <h4>\n                    The Price for {itinerary.duration} With Hotels{\" \"}\n                    {itinerary.price}\n                  </h4>\n                </div>\n              </div>\n            </div>\n          ))}\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state, ownProps) => {\n  console.log(\"state\", state);\n  return {\n    users: state.users,\n    itineraries: state.itineraries,\n  };\n};\nconst mapDispatchToProps = (dispatch) => ({\n  login: (userData) => dispatch(login(userData)),\n  fetchProfileFavorites: (ids) => dispatch(fetchProfileFavorites(ids)),\n  fetchItinerariesFavorite: (emailAdded, id, name) =>\n    dispatch(fetchItinerariesFavorite(emailAdded, id, name)),\n  fetchItinerariesDeleteFavorite: (emailAdded, id, name) =>\n    dispatch(fetchItinerariesDeleteFavorite(emailAdded, id, name)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserAccount);\n"]},"metadata":{},"sourceType":"module"}